# Docker 빌드를 위한 Jenkins 활용 소개
## 빌드란 무엇인가?
- 컴퓨터 소프트웨어 분야에서 소프트웨어 빌드(software build)는 소스 코드 파일을 컴퓨터나 휴대폰에서 실행할 수 있는 독립(standalone) 소프트웨어 아티팩트로 변환하는 과정을 말하거나 그에 대한 결과물을 일컫는다.
- 소프트웨어 빌드에 있어 가장 중요한 단계 중 하나는 소스 코드 파일이 실행 코드로 변환되는 컴파일 과정이다.
- 컴퓨터 프로그램을 빌드하는 과정은 보통 다른 프로그램을 제어하는 프로그램인 빌드 도구에 의해 관리된다.
- 전체 빌드
  - 매 빌드 때마다 전체 코드를 포함해 빌드
  - 처음부터 전체 프로젝트 코드를 사용해 종속성 체크
  - 모든 소스 파일을 컴파일 및 빌드하고 최종적으로 빌드된 Artifact에 합친다.
- 증분 빌드
  - 변경된 코드 대상만 분리해 빌드
  - 프로젝트 내 모든 소스 파일 및 종속성을 확인해 변경된 경우 해당 대상만 다시 빌드
  - 변경분만 다시 빌드하므로 전체 빌드 방식보다 훨씬 빠르고 리소스를 덜 사용
- 도커 빌드가 전체 빌드보다는 증분 빌드 형태로 변경된 코드 대상만 분리해서 빌드 
## Dockerfile 설정 명령어
|명령어|기능|
|---|---|
|FROM|컨테이너의 Base Image 지정|
|RUN|명령어 실행|
|CMD|컨테이너 내에서 실행 명령어|
|LABEL|Label 설정|
|EXPOSE|컨테이너 포트 노출|
|ENV|환경 변수|
|ADD|파일/디렉토리 경로 추가|
|COPY|파일 복사|
|ENTRYPOINT|컨테이너 실행 시 실행되는 명령어|
|VOLUME|특정 경로를 컨테이너 볼륨으로 마운트|
|USER|사용자 지정|
|WORKDIR|작업 디렉토리|
|ARG|Dockerfile에서 사용되는 변수|
- 명령어는 Dockefile에서 명시해 빌드할 때 도커가 어떤 동작을 순차적으로 진행할지를 나타낼 수 있음
- RUN : Dockerfile로부터 도커 이미지를 빌드하는 순간에 실행되므로 RUN 명령어는 라이브러리 설치를 하는 부분에서 주로 활용이 됨
- CMD : RUN 명령어가 이미지를 빌드할 때 실행되는 것과 달리, 이미지로부터 컨테이너를 생성하여 실행중 사용이 가능한 명령어임
- ENTRYPOINT : 컨테이너 실행 후 최초로 실행하는 명령어가 있을 때만 사용
## Docker 빌드 명령어
- 기본 빌드 명령어
  - docker build -t <생성할 이미지명><빌드할 코드 경로>
- dockerfile 지정을 위한 -f 옵션 적용
  - docker build -t <생성할 이미지명>-f<dockerfile 파일명><빌드할 코드 경로>
## Docker 빌드를 위한 Jenkins 활용
![Jenkins_활용](https://github.com/joosang425/study-devops/assets/68217970/3e26c9b7-7571-458c-bd85-99b3dd0580d2)
